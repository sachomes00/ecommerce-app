<%= form_with model: @order, id: "payment-form" do |form| %>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <%= form.label "Name (optional)" %>
        <%= form.text_field :name, class: 'form-control border-input', value: 'John Doe'%>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <%= form.label "Email (optional)" %>
        <%= form.text_field :email, class: 'form-control border-input', value: 'john@doe.com' %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="card-element">
          Credit or debit card
        </label>
        <div id="card-element">
        </div>
        <div id="card-errors" role="alert"></div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="form-actions pull-right">
        <button id="card-submit" data-secret="<%= @payment_intent.client_secret %>" class="btn btn-primary">Submit Payment</button>
      </div>
    </div>
    <div id="spinner" class="loader"></div>
  </div>
<% end %>
<%= javascript_pack_tag "payment_form", defer: true %>
